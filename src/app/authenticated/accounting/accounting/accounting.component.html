<div class="flex content-card-wrap justify-center">
  <section class="content-card">
    <div class="flex justify-between items-center gap-3 bg-slate-300 rounded-t-lg py-0 pl-8 pr-4">
      <span class="flex flex-column items-center gap-3 py-4">
        <mat-icon class="flex-shrink-0">account_balance</mat-icon>
        <span class="flex-shrink-0 text-xl font-medium">Accounting</span>
      </span>
    </div>
    <mat-card>
      <mat-tab-group [selectedIndex]="selectedTabIndex" class="accounting-tabs" (selectedTabChange)="onTabChange($event)">
        <mat-tab label="Invoices">
          <app-invoice-list 
            [officeId]="selectedOfficeId"
            [reservationId]="selectedReservationId"
            [companyId]="selectedCompanyId"
            [source]="'accounting'"
            (officeIdChange)="onInvoiceOfficeChange($event)"
            (reservationIdChange)="onInvoiceReservationChange($event)"
            (companyIdChange)="onInvoiceCompanyChange($event)"
            (printInvoiceEvent)="onPrintInvoice($event)">
          </app-invoice-list>
        </mat-tab>
        <mat-tab label="Cost Codes">
          @if (isEditingCostCodes && costCodesId) {
            <app-cost-codes 
              [id]="costCodesId" 
              [officeId]="costCodesOfficeId"
              (backEvent)="onCostCodesBack()"
              (savedEvent)="onCostCodesSaved()">
            </app-cost-codes>
          } @else {
            <app-cost-codes-list 
              [officeId]="selectedOfficeId"
              (officeIdChange)="onCostCodesOfficeChange($event)"
              (addCostCodeEvent)="onCostCodesAdd()"
              (editCostCodeEvent)="onCostCodesEdit($event)">
            </app-cost-codes-list>
          }
        </mat-tab>
        <mat-tab label="General Ledger">
          <app-general-ledger 
            [officeId]="selectedOfficeId"
            (officeIdChange)="onGeneralLedgerOfficeChange($event)">
          </app-general-ledger>
        </mat-tab>
        <mat-tab label="Documents">
          <app-document-list 
            #accountingDocumentList
            [documentTypeId]="DocumentType.Invoice"
            [hideHeader]="true"
            [officeId]="selectedOfficeId"
            [reservationId]="selectedReservationId"
            [source]="'invoice'"
            (officeIdChange)="onDocumentsOfficeChange($event)"
            (reservationIdChange)="onDocumentsReservationChange($event)">
          </app-document-list>
        </mat-tab>
      </mat-tab-group>
    </mat-card>
  </section>
</div>
